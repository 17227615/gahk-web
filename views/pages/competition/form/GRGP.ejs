<form action="/competition/form/GRGP" method="POST" id=GRGP_form>
    <div class="row mx-sm-2">
        <div class="col-12" style="color: #888888; ">
            <br>
            <h1 style="font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:16pt;"><b>第63屆體育節 -
                    2020年全港藝術體操分齡比賽</b></h1>
            <h2 style="font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:14pt;"><u>集體項目報名表（公開組︰學校以外之團體）</u>
            </h2>
            <br><br>
        </div>



        <div class="col-12">
            <h5 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">隊伍資料 Group
                details</h5>
        </div>



        <div class="col-12">
            <label>隊伍名稱(中文) Team Name(Chinese):</label>
            <input type="text" class="form-group" name="GRGP[teamName]" style="width:350pt;"
                onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
        </div>

        <div class="col-12 col-sm-6">
            <label>聯絡電話 Contact Number:</label>
            <input type="tel" pattern=[0-9]{8} class="form-group" name="GRGP[phone]" required>
        </div>

        <div class="col-12 col-sm-6">
            <label>聯絡電郵 Email Address:</label>
            <input type="email" class="form-group" name="GRGP[email]" style="width:195pt;" required>
        </div>

        <div class="col-12 col-sm-6">
            <label>教練姓名 Coach Name:</label>
            <input type="text" class="form-group" name="GRGP[coachName]" required>
        </div>

        <div class="col-12 col-sm-6">
            <label>教練聯絡電話 Coach Contact Number:</label>
            <input type="tel" pattern=[0-9]{8} class="form-group" name="GRGP[coachPhone]" required>
        </div>

        <div class="col-12">
            <br>
            <p>組別及比賽項目 Category and Competition Item:</p>
            <input type="radio" name="GRGP[category]" value="集體 A 組(五人圈操)" required>
            <label class="form-check-label" for="category">集體 A 組(五人圈操)</label>
            <input type="radio" name="GRGP[category]" value="集體 B 組(五人圈操)" required>
            <label class="form-check-label" for="category">集體 B 組(五人圈操)</label>
            <input type="radio" name="GRGP[category]" value="集體 C 組(三球兩帶)" required>
            <label class="form-check-label" for="category">集體 C 組(三球兩帶)</label>
            <br><br>
        </div>

        <style type="text/css">
            .card {
                border-radius: 0;
            }
        </style>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">參加者(1)個人資料
                Applicant(1)'s Personal Details</h6>
            <h5>[正選 Current athlete]</h5>
            <br>

            <div>
                <label>中文姓名 Name in Chinese:</label>
                <input type="text" class="form-group" name="GRGP[chiName1]" placeholder=" e.g. 陳大文"
                    onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
            </div>
            <div>
                <label>英文姓名 Name in English: </label>
                <input type="text" class="form-group" name="GRGP[engName1]" placeholder=" e.g. Chan Tai Man"
                    onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
            </div>
            <div>
                <label>身份證號碼 ID Card Number:</label>
                <input type="text" class="form-group" name="GRGP[ID1]" placeholder=" A123456(7)" required>
            </div>
            <div>
                <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                <input type="date" class="form-group" name="GRGP[birth1]" required>
                <br>
            </div>
        </div>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">參加者(2)個人資料
                Applicant(2)'s Personal Details</h6>
            <h5>[正選 Current athlete]</h5>
            <br>

            <div>
                <label>中文姓名 Name in Chinese:</label>
                <input type="text" class="form-group" name="GRGP[chiName2]" placeholder=" e.g. 陳大文"
                    onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
            </div>
            <div>
                <label>英文姓名 Name in English: </label>
                <input type="text" class="form-group" name="GRGP[engName2]" placeholder=" e.g. Chan Tai Man"
                    onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
            </div>
            <div>
                <label>身份證號碼 ID Card Number:</label>
                <input type="text" class="form-group" name="GRGP[ID2]" placeholder=" A123456(7)" required>
            </div>
            <div>
                <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                <input type="date" class="form-group" name="GRGP[birth2]" required>
                <br>
            </div>
        </div>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">參加者(3)個人資料
                Applicant(3)'s Personal Details</h6>
            <h5>[正選 Current athlete]</h5>
            <br>

            <div>
                <label>中文姓名 Name in Chinese:</label>
                <input type="text" class="form-group" name="GRGP[chiName3]" placeholder=" e.g. 陳大文"
                    onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
            </div>
            <div>
                <label>英文姓名 Name in English: </label>
                <input type="text" class="form-group" name="GRGP[engName3]" placeholder=" e.g. Chan Tai Man"
                    onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
            </div>
            <div>
                <label>身份證號碼 ID Card Number:</label>
                <input type="text" class="form-group" name="GRGP[ID3]" placeholder=" A123456(7)" required>
            </div>
            <div>
                <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                <input type="date" class="form-group" name="GRGP[birth3]" required>
                <br>
            </div>
        </div>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">參加者(4)個人資料
                Applicant(4)'s Personal Details</h6>
            <h5>[正選 Current athlete]</h5>
            <br>

            <div>
                <label>中文姓名 Name in Chinese:</label>
                <input type="text" class="form-group" name="GRGP[chiName4]" placeholder=" e.g. 陳大文"
                    onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
            </div>
            <div>
                <label>英文姓名 Name in English: </label>
                <input type="text" class="form-group" name="GRGP[engName4]" placeholder=" e.g. Chan Tai Man"
                    onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
            </div>
            <div>
                <label>身份證號碼 ID Card Number:</label>
                <input type="text" class="form-group" name="GRGP[ID4]" placeholder=" A123456(7)" required>
            </div>
            <div>
                <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                <input type="date" class="form-group" name="GRGP[birth4]" required>
                <br>
            </div>
        </div>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">參加者(5)個人資料
                Applicant(5)'s Personal Details</h6>
            <h5>[正選 Current athlete]</h5>
            <br>

            <div>
                <label>中文姓名 Name in Chinese:</label>
                <input type="text" class="form-group" name="GRGP[chiName5]" placeholder=" e.g. 陳大文"
                    onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
            </div>
            <div>
                <label>英文姓名 Name in English: </label>
                <input type="text" class="form-group" name="GRGP[engName5]" placeholder=" e.g. Chan Tai Man"
                    onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
            </div>
            <div>
                <label>身份證號碼 ID Card Number:</label>
                <input type="text" class="form-group" name="GRGP[ID5]" placeholder=" A123456(7)" required>
            </div>
            <div>
                <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                <input type="date" class="form-group" name="GRGP[birth5]" required>
                <br>
            </div>
        </div>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">參加者(6)個人資料
                Applicant(6)'s Personal Details</h6>
            <h5>[後備 Back up]</h5>
            <br>

            <div>
                <label>中文姓名 Name in Chinese:</label>
                <input type="text" class="form-group" name="GRGP[chiName6]" placeholder=" e.g. 陳大文"
                    onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
            </div>
            <div>
                <label>英文姓名 Name in English: </label>
                <input type="text" class="form-group" name="GRGP[engName6]" placeholder=" e.g. Chan Tai Man"
                    onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
            </div>
            <div>
                <label>身份證號碼 ID Card Number:</label>
                <input type="text" class="form-group" name="GRGP[ID6]" placeholder=" A123456(7)" required>
            </div>
            <div>
                <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                <input type="date" class="form-group" name="GRGP[birth6]" required>
                <br>
            </div>
        </div>

        <div class="form-group col-12">
            <span>備註 Remarks:</span>
            <ol>
                <li>如有需要可自行影印表格<br>Applicants can make copy of the form if needed.</li>
                <li>每張報名表只可報<u>一個</u>組別<br>An application form can be applied for <u>one</u> category only.</li>
                <li>申請人不可同時參加個人及團體項目<br>Applicants can join individual or group competitoins only.</li>
            </ol>
        </div>



        <div class="col-12">
            <br><br>
            <h5 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">隊伍負責人資料
                Team Leader Details</h5>
        </div>



        <div class="col-12 col-sm-6">
            <label>隊伍負責人姓名 Leader's Name:</label>
            <input type="text" class="form-group" name="GRGP[leaderName]" required>
        </div>

        <div class="col-12 col-sm-6">
            <label>隊伍負責人職位 Leader's Position:</label>
            <input type="text" class="form-group" name="GRGP[leaderPosition]" required>
        </div>



        <div class="col-12">
            <br><br>
            <h5 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">費用 Fee</h5>
        </div>



        <div class="col-12 form-group">
            <label>集體項目 Collective Subject: $150 X </label>
            <input id="NoOfTeam" type="number" class="mx-sm-2" name="GRGP[NoOfTeam]" min=1 max=100
                onblur="calculateFee()" required>
            <label>隊 team(s) = $</label>
            <input id="teamFee" type="number" class="mx-sm-2" name="GRGP[teamFee]" readonly />
        </div>

        <div class="col-12 form-group">
            <label>保險 Insurance: $30 X </label>
            <input id="NoOfPeople" type="number" class="mx-sm-2" name="GRGP[NoOfPeople]" min=1 max=100
                onblur="calculateInsurance()" required>
            <label>人 people = $</label>
            <input id="insurance" type="number" class="mx-sm-2" name="GRGP[insurance]" readonly />
            <br><br>
        </div>

        <div class="col-12 form-group">
            <label>總額 Total price = $</label>
            <input id="total" type="number" class="mx-sm-2" name="GRGP[total]" readonly />
        </div>

        <div class="col-12 form-group">
            <span style="font-style: italic;">*請以支票付款，並以郵寄方式或親臨辦公室遞交支票<br>Please make payment by cheque and submit it by
                post or in person</span>
        </div>



        <div class="col-12">
            <br><br>
            <h5 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">文件上載
                Documents Upload</h5>
        </div>



        <ol>
            <li>
                <div class="col-12">
                    <label>請附上<u><b>每位</b></u>參加者的身份證副本 Please upload ID copies of <u><b>ALL</b></u>
                        applicants</label>
                    <br>
                    <input type="file" accept="image/*" onchange="handleFile(this.files)" multiple required />
                    <br>
                    <div id="preview0" style="float: left;"></div>
                    <div id="preview1" style="float: left;"></div>
                    <div id="preview2" style="float: left;"></div>
                    <div id="preview3" style="float: left;"></div>
                    <div id="preview4" style="float: left;"></div>
                    <div id="preview5" style="float: left;"></div>
                </div>
                <br>
            </li>
            <li>
                <div class="col-12">
                    <label>請附上含有隊伍負責人簽署及學校蓋章之文件 Please sumbit doucments with the leader's signature and school
                        stamp</label>
                    <br>
                    <input type="file" accept="image/*,application/pdf" onchange="handleFile2(this.files)" multiple
                        required />
                    <br>
                    <div id="HF2preview0" style="float: left;"></div>
                    <div id="HF2preview1" style="float: left;"></div>
                </div>
                <br>
            </li>
            <li>
                <div class="col-12">
                    <label>請下載及列印 <a href="/formDoc/GRGS_declaration.pdf" download
                            style="color:#83a70c"><u>聲明書.pdf</u></a>
                        ,簽署後把文件上載 Please download and print the <a href="/formDoc/GRGS_declaration.pdf" download
                            style="color:#83a70c"><u>declaration.pdf</u></a>,then sign and upload it</label>
                    <input type="file" accept="image/*,application/pdf" onchange="handleFile3(this.files)" required />
                    <div id="HF3preview"></div>
                </div>
            </li>
        </ol>


        <div class="col-12">
            <br><br>
            <input type="checkbox" required>
            <label>我已仔細閱讀並清楚明白<a href="/competition/annex1" target="_blank"><u>參加者健康及體能須知</u></a><br> I have read
                carefully and
                understood the <a href="/competition/annex1" target="_blank"><u>Health and Fitness Guideline</u></a> for
                participants</label>
        </div>


        <div class="col-12">
            <br><br>
            <button type="submit" class="btn btn-primary"
                style="background: #83a70c url(../img/overlay.png) repeat-x; border: none; float: right;">預覽 Preview
                >></button>
        </div>
    </div>
    <br>

</form>


<script>

    function calculateFee() {
        document.getElementById('teamFee').value = 150 * document.getElementById('NoOfTeam').value;
        fee = document.getElementById('teamFee').value;
        insurance = document.getElementById('insurance').value;
        document.getElementById('total').value = parseInt(insurance) + parseInt(fee);
    }

    function calculateInsurance() {
        document.getElementById('insurance').value = 30 * document.getElementById('NoOfPeople').value;
        fee = document.getElementById('teamFee').value;
        insurance = document.getElementById('insurance').value;
        document.getElementById('total').value = parseInt(insurance) + parseInt(fee);
    }

    function handleFile(files) {
        if (files.length > 6) {
            alert("上載相片不可多於6張");
            return;
        }

        var i = 0;
        while (i < files.length) {

            if (!files[i].type.startsWith('image/')) return;

            if (files[i].size > 4194304) {
                alert("請重新上載4MB相片");
                return;
            }


            var reader = new FileReader();
            var p = 0;
            reader.onload = function (e) {
                var preview = document.getElementById('preview' + p);
                preview.innerHTML = "";
                var img = document.createElement('img');
                img.src = e.target.result;
                preview.appendChild(img);

                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'GRGP[imgIDCard' + p + ']';
                alert(p)
                input.value = e.target.result;
                alert(input.value)

                img.style.width = "150px";
                img.style.height = "150px";
                document.getElementById('GRGP_form').appendChild(input);

                p = p + 1;
            }
            reader.readAsDataURL(files[i]);
            i = i + 1;

        }
    }

    function handleFile2(files) {
        if (files.length > 2) {
            alert("上載相片不可多於2張");
            return;
        }

        var i = 0;
        while (i < files.length) {

            if (!files[i].type.startsWith('image/') && !files[i].type == 'application/pdf') return;

            var reader = new FileReader();
            var p = 0;
            reader.onload = function (e) {
                var preview = document.getElementById('HF2preview' + p);
                preview.innerHTML = "";
                var img = document.createElement('img');
                img.src = e.target.result;
                preview.appendChild(img);

                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'GRGP[document' + p + ']';
                alert(p)
                input.value = e.target.result;
                alert(input.value)

                img.style.width = "150px";
                img.style.height = "150px";
                document.getElementById('GRGP_form').appendChild(input);

                p = p + 1;
            }
            reader.readAsDataURL(files[i]);
            i = i + 1;
        }
    }

    function handleFile3(files) {
        const file = files[0];
        if (!file.type.startsWith('image/') && !file.type == 'application/pdf') return;
        var preview = document.getElementById('HF3preview');
        var reader = new FileReader();
        reader.onload = function (e) {
            preview.innerHTML = "";
            var img = document.createElement('img');
            img.src = e.target.result;
            img.style.width = "150px";
            img.style.height = "200px";
            preview.appendChild(img);

            var input = document.createElement('input');
            input.type = 'hidden';
            input.name = 'GRGP[constent]';
            input.value = e.target.result;
            preview.appendChild(input);
        }
        reader.readAsDataURL(file);
    }


</script>
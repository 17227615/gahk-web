<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
<style>
    .card {
        border-radius: 0;
    }

    #labelHead {
        color: #83a70c;
        font-family: Verdana, Arial, Helvetica, sans-serif;
        font-size: 12pt;
    }

    .btn-group .button {
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        cursor: pointer;
    }

    .btn-group .paymentBtn:hover {
        background-color: goldenrod;
    }

    .btn-group .confirmBtn:hover {
        background-color: mediumblue;
    }

    .btn-group .deleteBtn:hover {
        background-color: firebrick;
    }

    .btn-group .submitBtn:hover {
        background-color: green;
    }
</style>

<div class="row mx-sm-0">
    <div class="form-group">
        <form action="/admin/applyHandle/TRGPEdit/<%= TRGP.id %>" method="POST">
            <div class="row mx-sm-2">

                <% var n = new Date(TRGP.createdAt);
                var month = n.getMonth() + 1;
                var applyDate = n.getDate() + "/" + month + "/" + n.getFullYear(); %>
                <div class="col-12" align="right">
                    <br>
                    <h6>申請編號 Application No.: <%= TRGP.idCode %></h6>
                    <p>提交日期 Apply Date: <%= applyDate %></p>
                </div>

                <div class="form-group col-12" style="color: #888888;">
                    <h1 style="font-family: Verdana,Arial, Helvetica, sans-serif; font-size:16pt;"><b>第63屆體育節 -
                            2020年全港藝術體操分齡比賽</b></h1>
                    <h2 style="font-family: Verdana,Arial, Helvetica, sans-serif; font-size:14pt;">
                        <u>團體項目報名表(公開組:學校以外之團體)</u>
                    </h2>
                    <br><br>
                </div>


                <div class="col-12">
                    <h5 id="labelHead">團體資料 Group Details</h5>
                </div>

                <div class="form-group col-12">
                    <label>機構名稱(中文) Organization Name(Chinese):</label>
                    <input type="text" name="TRGCompetition[teamName]" value="<%= TRGP.teamName%>" style="width:450pt"
                        onkeyup="value=value.replace(/[^\u4E00-\u9FA5\ \(\)]/g,'')" required>
                </div>

                <div class="form-group col-12 col-sm-6">
                    <label>聯絡電話 Contact Number:</label>
                    <input type="text" name="TRGCompetition[Phone]" maxlength="8" value="<%= TRGP.Phone%>"
                        onkeyup="value=value.replace(/[^\d\0-\9]/g,'')" required>
                </div>

                <div class="form-group col-12 col-sm-6">
                    <label>聯絡電郵 Email Address:</label>
                    <input type="email" name="TRGCompetition[Email]" value="<%= TRGP.Email%>" style="width:195pt"
                        required>
                </div>

                <div class="form-group col-12 col-sm-6">
                    <label>教練姓名 Coach Name:</label>
                    <input input="text" name="TRGCompetition[CoachName]" value="<%= TRGP.CoachName%>" required>
                </div>

                <div class="form-group col-12 col-sm-6">
                    <label>教練聯絡電話 Coach Contact Number:</label>
                    <input type="text" name="TRGCompetition[CoachPhone]" value="<%= TRGP.CoachPhone%>" maxlength="8"
                        onkeyup="value=value.replace(/[^\d\0-\9]/g,'')" required>
                </div>

                <div class="form-group col-12">
                    <label>參賽組別 Category:</label>
                    <% if (TRGP.category == "預備A,B組") {%>
                    <input type="radio" name="TRGCompetition[category]" value="預備A,B組" checked required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[category]" value="預備A,B組" required />
                    <%}%>
            <label class="form-check-label" for="category">預備A,B組</label>

            <% if (TRGP.category == "預備C,D組") {%>
                    <input type="radio" name="TRGCompetition[category]" value="預備C,D組" checked required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[category]" value="預備C,D組" required />
                    <%}%>
            <label class="form-check-label" for="category">預備C,D組</label>

            <% if (TRGP.category == "預備E組") {%>
                    <input type="radio" name="TRGCompetition[category]" value="預備E組" checked required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[category]" value="預備E組" required />
                    <%}%>
            <label class="form-check-label" for="category">預備E組</label>

            <% if (TRGP.category == "初級A組") {%>
                    <input type="radio" name="TRGCompetition[category]" value="初級A組" checked required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[category]" value="初級A組" required />
                    <%}%>
            <label class="form-check-label" for="category">初級A組</label>

            <% if (TRGP.category == "初級B組") {%>
                    <input type="radio" name="TRGCompetition[category]" value="初級B組" checked required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[category]" value="初級B組" required />
                    <%}%>
            <label class="form-check-label" for="category">初級B組</label>

            <% if (TRGP.category == "高級A組") {%>
                    <input type="radio" name="TRGCompetition[category]" value="高級A組" checked required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[category]" value="高級A組" required />
                    <%}%>
            <label class="form-check-label" for="category">高級A組</label>

            <% if (TRGP.category == "高級B組") {%>
                    <input type="radio" name="TRGCompetition[category]" value="高級B組" checked required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[category]" value="高級B組" required />
                    <%}%>
            <label class="form-check-label" for="category">高級B組</label>
        </div>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 id="labelHead">參加者(1)個人資料 Applicant(1)'s Personal Details</h6>
            <br>

            <div class="form-group">
                <label>是否有中文姓名 Any Chinese name: </label>
                <% if (TRGP.havecname1 == "是 Yes") {%>
                    <input type="radio" name="TRGCompetition[havecname1]" value="是 Yes" id="Yes1" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname1]" value="是 Yes" id="Yes1"
                        onclick="havechinesename()" required />
                    <%}%>
                <label class="form-check-label" for="havecname1">是 Yes</label>
                &nbsp;
                <% if (TRGP.havecname1 == "否 No") {%>
                    <input type="radio" name="TRGCompetition[havecname1]" value="否 No" id="No1" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname1]" value="否 No" id="No1"
                        onclick="havechinesename()" required />
                    <%}%>
                <label class="form-check-label" for="havecname1">否 No</label>
            </div>

            <div class="form-group">
                <label>中文姓名 Name in Chinese:</label>
                <% if (TRGP.havecname1 == "是 Yes") {%>
                    <input type="text" name="TRGCompetition[Mate1ChiName]" value="<%= TRGP.Mate1ChiName %>"
                        id="Mate1ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        required>
                    <%} else {%>
                    <input type="text" name="TRGCompetition[Mate1ChiName]" value="<%= TRGP.Mate1ChiName %>"
                        id="Mate1ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        disabled required>
                    <%}%>
            </div>

            <div class="form-group">
                 <label>英文姓名 Name in English:</label>
                 <input type="text" name="TRGCompetition[Mate1EngName]" value="<%= TRGP.Mate1EngName %>" placeholder="
                    e.g. Chan Tai Man" onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
                </div>
                <div class="form-group">
                    <label>身分證號碼 ID Card Number:</label>
                    <input type="text" name="TRGCompetition[Mate1IDNo]" value="<%= TRGP.Mate1IDNo %>"
                        placeholder=" A123456(7)" required>
                </div>
                <div class="form-group">
                    <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                    <input type="date" id="birth1" name="TRGCompetition[Mate1Date]" value="<%= TRGP.Mate1Date%>"
                        required>
                </div>
            </div>

            <div class="card col-12 col-sm-6" style="background: transparent;">
                <br>
                <h6 id="labelHead">參加者(2)個人資料 Applicant(2)'s Personal Details</h6>
                <br>

                <div class="form-group">
                    <label>是否有中文姓名 Any Chinese name: </label>
                    <% if (TRGP.havecname2 == "是 Yes") {%>
                    <input type="radio" name="TRGCompetition[havecname2]" value="是 Yes" id="Yes2" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname2]" value="是 Yes" id="Yes2"
                        onclick="havechinesename()" required />
                    <%}%>
                    <label class="form-check-label" for="havecname2">是 Yes</label>
                    &nbsp;
                    <% if (TRGP.havecname2 == "否 No") {%>
                    <input type="radio" name="TRGCompetition[havecname2]" value="否 No" id="No2" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname2]" value="否 No" id="No2"
                        onclick="havechinesename()" required />
                    <%}%>
                    <label class="form-check-label" for="havecname2">否 No</label>
                </div>
    
                <div class="form-group">
                    <label>中文姓名 Name in Chinese:</label>
                    <% if (TRGP.havecname2 == "是 Yes") {%>
                    <input type="text" name="TRGCompetition[Mate2ChiName]" value="<%= TRGP.Mate2ChiName %>"
                        id="Mate2ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        required>
                    <%} else {%>
                    <input type="text" name="TRGCompetition[Mate2ChiName]" value="<%= TRGP.Mate2ChiName %>"
                        id="Mate2ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        disabled required>
                    <%}%>
            </div>
    
            <div class="form-group">
                <label>英文姓名 Name in English:</label>
                <input type="text" name="TRGCompetition[Mate2EngName]" value="<%= TRGP.Mate2EngName %>"
                    placeholder=" e.g. Chan Tai Man" onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
                </div>
                <div class="form-group">
                    <label>身分證號碼 ID Card Number:</label>
                    <input type="text" name="TRGCompetition[Mate2IDNo]" value="<%= TRGP.Mate2IDNo %>"
                        placeholder=" A123456(7)" required>
                </div>
                <div class="form-group">
                    <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                    <input type="date" id="birth2" name="TRGCompetition[Mate2Date]" value="<%= TRGP.Mate2Date%>"
                        required>
                </div>
            </div>

            <div class="card col-12 col-sm-6" style="background: transparent;">
                <br>
                <h6 id="labelHead">參加者(3)個人資料 Applicant(3)'s Personal Details</h6>
                <br>

                <div class="form-group">
                    <label>是否有中文姓名 Any Chinese name: </label>
                    <% if (TRGP.havecname3 == "是 Yes") {%>
                    <input type="radio" name="TRGCompetition[havecname3]" value="是 Yes" id="Yes3" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname3]" value="是 Yes" id="Yes3"
                        onclick="havechinesename()" required />
                    <%}%>
                    <label class="form-check-label" for="havecname3">是 Yes</label>
                    &nbsp;
                    <% if (TRGP.havecname3 == "否 No") {%>
                    <input type="radio" name="TRGCompetition[havecname3]" value="否 No" id="No3" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname3]" value="否 No" id="No3"
                        onclick="havechinesename()" required />
                    <%}%>
                    <label class="form-check-label" for="havecname3">否 No</label>
                </div>
    
                <div class="form-group">
                    <label>中文姓名 Name in Chinese:</label>
                    <% if (TRGP.havecname3 == "是 Yes") {%>
                    <input type="text" name="TRGCompetition[Mate3ChiName]" value="<%= TRGP.Mate3ChiName %>"
                        id="Mate3ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        required>
                    <%} else {%>
                    <input type="text" name="TRGCompetition[Mate3ChiName]" value="<%= TRGP.Mate3ChiName %>"
                        id="Mate3ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        disabled required>
                    <%}%>
                </div>
    
                <div class="form-group">
                    <label>英文姓名 Name in English:</label>
                    <input type="text" name="TRGCompetition[Mate3EngName]" value="<%= TRGP.Mate3EngName %>"
                    placeholder="
                    e.g. Chan Tai Man"
                    onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
                </div>
                <div class="form-group">
                    <label>身分證號碼 ID Card Number:</label>
                    <input type="text" name="TRGCompetition[Mate3IDNo]" value="<%= TRGP.Mate3IDNo %>"
                        placeholder=" A123456(7)" required>
                </div>
                <div class="form-group">
                    <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                    <input type="date" id="birth3" name="TRGCompetition[Mate3Date]" value="<%= TRGP.Mate3Date%>"
                        required>
                </div>
            </div>

            <div class="card col-12 col-sm-6" style="background: transparent;">
                <br>
                <h6 id="labelHead">參加者(4)個人資料 Applicant(4)'s Personal Details</h6>
                <br>

                <div class="form-group">
                    <label>是否有中文姓名 Any Chinese name: </label>
                    <% if (TRGP.havecname4 == "是 Yes") {%>
                    <input type="radio" name="TRGCompetition[havecname4]" value="是 Yes" id="Yes4" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname4]" value="是 Yes" id="Yes4"
                        onclick="havechinesename()" required />
                    <%}%>
                    <label class="form-check-label" for="havecname4">是 Yes</label>
                    &nbsp;
                    <% if (TRGP.havecname4 == "否 No") {%>
                    <input type="radio" name="TRGCompetition[havecname4]" value="否 No" id="No4" checked
                        onclick="havechinesename()" required />
                    <%} else {%>
                    <input type="radio" name="TRGCompetition[havecname4]" value="否 No" id="No4"
                        onclick="havechinesename()" required />
                    <%}%>
                    <label class="form-check-label" for="havecname4">否 No</label>
            </div>
    
                <div class="form-group">
                    <label>中文姓名 Name in Chinese:</label>
                        <% if (TRGP.havecname4 == "是 Yes") {%>
                    <input type="text" name="TRGCompetition[Mate4ChiName]" value="<%= TRGP.Mate4ChiName %>"
                        id="Mate4ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        required>
                    <%} else {%>
                    <input type="text" name="TRGCompetition[Mate4ChiName]" value="<%= TRGP.Mate4ChiName %>"
                        id="Mate4ChiName" placeholder=" e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        disabled required>
                    <%}%>
                </div>
    
            <div class="form-group">
                <label>英文姓名 Name in English:</label>
                <input type="text" name="TRGCompetition[Mate4EngName]" value="<%= TRGP.Mate4EngName %>"
                    placeholder=" e.g. Chan Tai Man" onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
                </div>
                <div class="form-group">
                    <label>身分證號碼 ID Card Number:</label>
                    <input type="text" name="TRGCompetition[Mate4IDNo]" value="<%= TRGP.Mate4IDNo %>"
                        placeholder=" A123456(7)" required>
                </div>
                <div class="form-group">
                    <label>出生日期 Date of Birth (dd/mm/yyyy):</label>
                    <input type="date" id="birth4" name="TRGCompetition[Mate4Date]" value="<%= TRGP.Mate4Date%>"
                        required>
                </div>
            </div>

            <div class="form-group col-12">
                <br>
                <h5 id="labelHead">費用 Fee</h5>

                <div class="form-group">
                    <label>團體項目 Group Event: $250 X </label>
                    <input id="teamNo" type="number" name="TRGCompetition[TeamNumber]" value="<%= TRGP.TeamNumber%>"
                        min=1 style="width: 50pt;" onblur="calculate()" required>
                    <span>隊 team(s) = $</span>
                    <input id="teamPrice" type="number" name="TRGCompetition[TeamPrice]" value="<%= TRGP.TeamPrice%>"
                        readonly required>
                    <br>
                </div>
                <div class="form-group">
                    <label>總額 Total price = $</label>
                    <input id="total" type="number" name="TRGCompetition[TeamTotalPrice]"
                        value="<%= TRGP.TeamTotalPrice%>" readonly required>
                </div>
            </div>

            <div class="form-group col-12">
                <h5 id="labelHead">文件上載
                    Document Upload</h5>
                <div class="form-group">
                    <label>商業登記證明 Valid Bussiness Registration Certificate (img/pdf檔)</label>
                    <input type="file" accept="image/*,application/pdf" onchange="handleFile1(this.files)" />
                    <div id="preview1"></div>
                    <a download="<%= TRGP.idCode%>_VBRC_商業登記證明" href="<%=TRGP.VBRC%>" target="_blank">下載 Download</a>
                </div>
            </div>

            <div class="form-group col-12">
                <h5 id="labelHead">聲明 Declaration</h5>
                <div class="form-group">
                    <label>聲明書 Declaration(img/pdf檔)</label>
                    <input type="file" accept="image/*,application/pdf" onchange="handleFile2(this.files)" />
                    <div id="preview2"></div>
                    <a download="<%= TRGP.idCode%>_Declaration_聲明書" href="<%=TRGP.Declaration%>" target="_blank">下載
                        Download</a>
                </div>

                <div class="row">
                    <div class="form-group col-12 col-sm-6">
                        <label>機構負責人姓名 Leader's Name:</label>
                        <input type="text" name="TRGCompetition[leaderName]" value="<%=TRGP.leaderName%>" required>
                    </div>
                    <div class="form-group col-12 col-sm-6">
                        <label>機構負責人職位 Leader's Position:</label>
                        <input type="text" name="TRGCompetition[leaderPosition]" value="<%=TRGP.leaderPosition%>"
                            required>
                    </div>
                </div>
            </div>

            <!-- <div class="form-group col-12" style="text-align: center;">
        <br>
        <div class="btn-group">
            <% if (TRGP.payStatus == "unpaid") {%>
            <button class="button paymentBtn btn btn-warning"
                onclick="upatePay('<%= TRGP.id%>')">未付款<br>Unpaid</button>
            <%} else {%>
            <button class="button btn" style="background-color: goldenrod;" disabled>已付款<br>Paid</button>
            <%}%>
    
                <% if (TRGP.formStatus == "ToBeCon") {%>
            <button class="button confirmBtn btn btn-primary">確認<br>Confirm</button>
            <%} else {%>
            <button class="button btn btn-primary" style="background-color: mediumblue;"
                disabled>已確認<br>Accepted</button>
            <%}%>
                <button class="button deleteBtn btn btn-danger" onclick="deleteForm('<%= TRGP.id%>')">刪除<br>Delete</button>
            <button class="button submitBtn btn btn-success">完成<br>Submit</button>
        </div>
        <br><br><br>
    </div> -->

            <% var n = new Date(TRGP.updatedAt);
        var month = n.getMonth() + 1;
        var updateDate = n.getDate() + "/" + month + "/" + n.getFullYear() + " " + n.getHours() + ":" + n.getMinutes() + ":" + n.getSeconds(); %>
            <p class="col-12" style="font-size: smaller;">上次更新 Last upadated: <%= updateDate%></p>

    </div>
    </form>
</div>

<div class="form-group col-12" style="text-align: center;">
    <br>
    <div class="btn-group">
        <% if (TRGP.payStatus == "unpaid") {%>
        <button class="button paymentBtn btn btn-warning" onclick="upatePay('<%= TRGP.id%>')" >未付款<br>Unpaid</button>
        <%} else {%>
        <button class="button btn" style="background-color: goldenrod;" disabled>已付款<br>Paid</button>
        <%}%>

            <% if (TRGP.formStatus == "ToBeCon") {%>
        <button class="button confirmBtn btn btn-primary">確認<br>Confirm</button>
        <%} else {%>
        <button class="button btn btn-primary" style="background-color: mediumblue;" disabled>已確認<br>Accepted</button>
        <%}%>
            <button class="button deleteBtn btn btn-danger" onclick="deleteForm('<%= TRGP.id%>')">刪除<br>Delete</button>
        <button class="button submitBtn btn btn-success" onclick="submitForm('<%= TRGP.id%>')">完成<br>Submit</button>
    </div>
    <br><br><br>
</div>

</div>


<script>
    //button function
    async function submitForm(id) {
        var r = confirm("Confirm Update?");

        if (r) {
            //alert("Successfully upadated");
            var response = await fetch("/admin/applyHandle/TRGPEdit/" + id, {
                method: "POST",
                credentials: 'same-origin',
            });

            if (response.ok) {
                alert("res ok");
                var data = await response.json();
                alert(data.message);
                window.location = data.url;
            } else {
                alert(response.status + ": " + response.statusText);
            }

        } else {
            alert("Cancelled");
        }
    }


    async function upatePay(id) {
        var payBtn = document.getElementById("payBtn");
        var r = confirm("Confirm Update Payment?");

        if (r) {
            alert("Payment successfully upadated");
            var response = await fetch("/admin/applyHandle/TRGPEdit/updatePay/" + id, {
                method: "POST",
                credentials: 'same-origin',
            });

            if (response.ok) {
                var data = await response.json();
                alert("Payment successfully upadated");
            } else {
                alert(response.status + ": " + response.statusText);
            }

        } else {
            alert("Cancelled");
        }
    }

    async function deleteForm(id) {
        var r = confirm("Confirm Delete?");
        if (r) {
            var response = await fetch("/admin/applyHandle/TRGPEdit/" + id, {
                method: "DELETE",
                credentials: 'same-origin',
            });
            if (response.ok) {
                var data = await response.json();
                alert(data.message);
                window.location = data.url;
            } else {
                alert(response.status + ": " + response.statusText);
            }
        } else {
            alert("cancelled");
        }
    };



    //form function
    function calculate() {
        document.getElementById('teamPrice').value = 250 * document.getElementById('teamNo').value;
        var price = document.getElementById('teamPrice').value;
        document.getElementById('total').value = price;
    }

    function handleFile1(files) {
        const file = files[0];
        if (!file.type.startsWith('image/') && !file.type == 'application/pdf') return;
        var preview = document.getElementById('preview1');
        var reader = new FileReader();

        if (file.type.startsWith('image/')) {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var img = document.createElement('img');
                img.src = e.target.result;
                preview.appendChild(img);
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'TRGCompetition[VBRC]';
                input.value = e.target.result;
                img.style.width = "150px";
                img.style.height = "150px";
                preview.appendChild(input);
            }
        } else if (file.type == 'application/pdf') {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'TRGCompetition[VBRC]';
                input.value = e.target.result;
                preview.appendChild(input);
            }
        }
        reader.readAsDataURL(file);
    }

    function handleFile2(files) {
        const file = files[0];
        if (!file.type.startsWith('image/') && !file.type == 'application/pdf') return;
        var preview = document.getElementById('preview2');
        var reader = new FileReader();

        if (file.type.startsWith('image/')) {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var img = document.createElement('img');
                img.src = e.target.result;
                preview.appendChild(img);
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'TRGCompetition[Declaration]';
                input.value = e.target.result;
                img.style.width = "150px";
                img.style.height = "150px";
                preview.appendChild(input);
            }
        } else if (file.type == 'application/pdf') {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'TRGCompetition[Declaration]';
                input.value = e.target.result;
                preview.appendChild(input);
            }
        }
        reader.readAsDataURL(file);
    }

    //handle have chinese name option
    function havechinesename() {
        var yes1_check = document.getElementById("Yes1");
        var no1_check = document.getElementById("No1");
        var yes2_check = document.getElementById("Yes2");
        var no2_check = document.getElementById("No2");
        var yes3_check = document.getElementById("Yes3");
        var no3_check = document.getElementById("No3");
        var yes4_check = document.getElementById("Yes4");
        var no4_check = document.getElementById("No4");
        var chineseNameDis1 = document.getElementById("Mate1ChiName")
        var chineseNameDis2 = document.getElementById("Mate2ChiName")
        var chineseNameDis3 = document.getElementById("Mate3ChiName")
        var chineseNameDis4 = document.getElementById("Mate4ChiName")

        if (yes1_check.checked == true) {
            chineseNameDis1.checked = false;
            chineseNameDis1.disabled = false;

        } else if (no1_check.checked == true) {
            chineseNameDis1.checked = true; //disable chinese name
            chineseNameDis1.disabled = true;
        }

        if (yes2_check.checked == true) {
            chineseNameDis2.checked = false;
            chineseNameDis2.disabled = false;

        } else if (no2_check.checked == true) {
            chineseNameDis2.checked = true; //disable chinese name
            chineseNameDis2.disabled = true;
        }

        if (yes3_check.checked == true) {
            chineseNameDis3.checked = false;
            chineseNameDis3.disabled = false;

        } else if (no3_check.checked == true) {
            chineseNameDis3.checked = true; //disable chinese name
            chineseNameDis3.disabled = true;
        }

        if (yes4_check.checked == true) {
            chineseNameDis4.checked = false;
            chineseNameDis4.disabled = false;

        } else if (no4_check.checked == true) {
            chineseNameDis4.checked = true; //disable chinese name
            chineseNameDis4.disabled = true;

        }
    }
</script>
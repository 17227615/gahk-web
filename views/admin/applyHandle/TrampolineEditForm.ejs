<link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
<style>
    #labelHead {
        color: #83a70c;
        font-family: Verdana, Arial, Helvetica, sans-serif;
        font-size: 12pt;
    }

    /* .btn-group .button {
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    cursor: pointer;
}

.btn-group .paymentBtn:hover {
    background-color: goldenrod;
}

.btn-group .confirmBtn:hover {
    background-color: mediumblue;
}

.btn-group .deleteBtn:hover {
    background-color: firebrick;
}

.btn-group .submitBtn:hover {
    background-color: green;
} */

    /* checkbox css */
    .inputGroup {
        background-color: #fff;
        width: 220pt;
        display: block;
        margin: 10px 0;
        position: relative;
    }

    .statusLabel {
        padding: 12px 30px;
        width: 100%;
        display: block;
        text-align: left;
        color: #3C454C;
        cursor: pointer;
        position: relative;
        z-index: 2;
        transition: color 200ms ease-in;
        overflow: hidden;
        font-weight: bold;
    }

    .statusLabel:after {
        width: 32px;
        height: 32px;
        content: '';
        border: 2px solid #D1D7DC;
        background-color: #fff;
        background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.414 11L4 12.414l5.414 5.414L20.828 6.414 19.414 5l-10 10z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E ");
        background-repeat: no-repeat;
        background-position: 2px 3px;
        border-radius: 50%;
        z-index: 2;
        position: absolute;
        right: 30px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        transition: all 200ms ease-in;
    }

    .statusLabel:before {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        content: '';
        background-color: #83a70c;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scale3d(1, 1, 1);
        transition: all 300ms cubic-bezier(0.4, 0.0, 0.2, 1);
        opacity: 0;
        z-index: -1;
    }

    .statusInput {
        width: 32px;
        height: 32px;
        order: 1;
        z-index: 2;
        position: absolute;
        right: 30px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        visibility: hidden;
    }

    .statusInput:checked~label {
        color: #fff;
    }

    .statusInput:checked~label:before {
        transform: translate(-50%, -50%) scale3d(56, 56, 1);
        opacity: 1;
    }

    .statusInput:checked~label:after {
        background-color: darkgreen;
        border-color: aquamarine;
    }

    .finishInput {
        width: 32px;
        height: 32px;
        order: 1;
        z-index: 2;
        position: absolute;
        right: 30px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        visibility: hidden;
    }

    .finishLabel {
        padding: 12px 30px;
        width: 100%;
        display: block;
        text-align: left;
        color: #fff;
        cursor: pointer;
        position: relative;
        z-index: 2;
        transition: color 200ms ease-in;
        overflow: hidden;
        font-weight: bold;
    }

    .finishLabel:before {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        content: '';
        background-color: #83a70c;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scale3d(56, 56, 1);
        transition: all 300ms cubic-bezier(0.4, 0.0, 0.2, 1);
        opacity: 1;
        z-index: -1;
    }

    .finishLabel:after {
        width: 32px;
        height: 32px;
        content: '';
        border: 2px solid;
        background-color: darkgreen;
        border-color: aquamarine;
        background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.414 11L4 12.414l5.414 5.414L20.828 6.414 19.414 5l-10 10z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E ");
        background-repeat: no-repeat;
        background-position: 2px 3px;
        border-radius: 50%;
        z-index: 2;
        position: absolute;
        right: 30px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        transition: all 200ms ease-in;
    }

    /* delete button */
    /* Set a style for all buttons */
    .modalBtn {
        background-color: #4CAF50;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        cursor: pointer;
        width: 100%;
        opacity: 0.9;
    }

    .modalBtn:hover {
        opacity: 1;
    }

    /* Float cancel and delete buttons and add an equal width */
    .cancelbtn,
    .deletebtn {
        float: left;
        width: 50%;
    }

    /* Add a color to the cancel button */
    .cancelbtn {
        background-color: #ccc;
        color: black;
    }

    /* Add a color to the delete button */
    .deletebtn {
        background-color: #f44336;
    }

    /* Add padding and center-align text to the container */
    .container {
        padding: 16px;
        text-align: center;
    }

    /* The Modal (background) */
    .modal {
        display: none;
        position: fixed;
        z-index: 3;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(8, 8, 8, 0.5);
        padding-top: 50px;
    }

    /* Modal Content/Box */
    .modal-content {
        background-color: #fefefe;
        margin: 5% auto 15% auto;
        border: 1px solid #888;
        width: 80%;
    }

    /* Style the horizontal ruler */
    hr {
        border: 1px solid #f1f1f1;
        margin-bottom: 25px;
    }

    /* Clear floats */
    .clearfix::after {
        content: "";
        clear: both;
        display: table;
    }

    /* Change styles for cancel button and delete button on extra small screens */
    @media screen and (max-width: 300px) {

        .cancelbtn,
        .deletebtn {
            width: 100%;
        }
    }
</style>

<div class="row">
    <div class="form-group col-12" style="text-align: right;">
        <br>
        <!-- <button class="mx-sm-2 btn btn-danger" onclick="deleteForm('<%= TRGP.id%>')">刪除 Delete</button> -->
        <button class="mx-sm-2 btn btn-danger" onclick="document.getElementById('askModal').style.display='block'">刪除
            Delete</button>
    </div>

    <div class="form-group col-12">
        <form action="/competition/form/trampoline/update/<%= trampoline.id %>" method="POST" id="trampolne">

            <div class="row mx-sm-2">
                <% var n = new Date(trampoline.createdAt);
        var month = n.getMonth() + 1;
        var applyDate = n.getDate() + "/" + month + "/" + n.getFullYear(); %>
                <div class="col-12" align="right">
                    <h6>申請編號 Application No.: <%= trampoline.idCode %></h6>
                    <p>提交日期 Apply Date: <%= applyDate %></p>
                </div>

                <div class="col-12" style="color: #888888; ">
                    <h1 style="font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:16pt;"><b>2020年香港彈網分齡賽</b>
                    </h1>
                    <h2 style="font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:14pt;"><u>雙人同步 報名表格</u>
                    </h2>
                    <br><br>
                </div>

                <div class="col-12">
                    <h5 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">
                        比賽規則及章程
                        Rules and Regulation</h5>
                </div>

                <div class="col-12">
                    <a href="/formDoc/TRAagegroup2020.pdf" target="_blank" style="text-align: center;"><u>2020年香港彈網分齡賽章程
                            Prospectus of
                            TrampolineAgeGroupCompetition</u></a>
                </div>


                <div class="col-12">
                    <br><br>
                    <h5 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">隊伍資料
                        Group
                        Details</h5>
                </div>

                <div class="col-12">
                    <p>
                        <label for="gender">性別 Gender: </label>
                        <% if(trampoline.gender == "男 Male") {%>
                        <input name="Trampoline[gender]" type="radio" id="male" value="男 Male" checked required />
                        <label for="male">男 Male</label>
                        <input name="Trampoline[gender]" type="radio" id="female" value="女 Female" required />
                        <label for="female">女 Female</label>
                        <%} else if(trampoline.gender == "女 Female"){%>
                        <input name="Trampoline[gender]" type="radio" id="male" value="男 Male" required />
                        <label for="male">男 Male</label>
                        <input name="Trampoline[gender]" type="radio" id="female" value="女 Female" checked required />
                        <label for="female">女 Female</label>
                        <%}%>

            </p>
            <p>
                <label for="category">參賽組別 Category: </label>


                <% if(trampoline.category == "14 歲或以下 14 years old or below") {%>

                        <input name="Trampoline[category]" type="radio" value="14 歲或以下 14 years old or below"
                            id="youngest" onclick="limitBirth()" checked required />
                        <label for="youngest">14 歲或以下 14 years old or below &nbsp; </label>
                        <input name="Trampoline[category]" type="radio" value="15 至 16 歲 15 to 16 years old" id="median"
                            onclick="limitBirth()" required />
                        <label for="median">15 至 16 歲 15 to 16 years old</label>
                        <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;
                        <input name="Trampoline[category]" type="radio" value="17 歲或以上 17 years old or above"
                            id="eldest" onclick="limitBirth()" required />
                        <label for="eldest">17 歲或以上 17 years old or above</label>

                        <%} else if(trampoline.category == "15 至 16 歲 15 to 16 years old"){%>

                        <input name="Trampoline[category]" type="radio" value="14 歲或以下 14 years old or below"
                            id="youngest" onclick="limitBirth()" required />
                        <label for="youngest">14 歲或以下 14 years old or below &nbsp; </label>
                        <input name="Trampoline[category]" type="radio" value="15 至 16 歲 15 to 16 years old" id="median"
                            onclick="limitBirth()" checked required />
                        <label for="median">15 至 16 歲 15 to 16 years old</label>
                        <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;
                        <input name="Trampoline[category]" type="radio" value="17 歲或以上 17 years old or above"
                            id="eldest" onclick="limitBirth()" required />
                        <label for="eldest">17 歲或以上 17 years old or above</label>

                        <%}else if(trampoline.category == "17 歲或以上 17 years old or above"){%>

                        <input name="Trampoline[category]" type="radio" value="14 歲或以下 14 years old or below"
                            id="youngest" onclick="limitBirth()" required />
                        <label for="youngest">14 歲或以下 14 years old or below &nbsp; </label>
                        <input name="Trampoline[category]" type="radio" value="15 至 16 歲 15 to 16 years old" id="median"
                            onclick="limitBirth()" required />
                        <label for="median">15 至 16 歲 15 to 16 years old</label>
                        <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;
                        <input name="Trampoline[category]" type="radio" value="17 歲或以上 17 years old or above"
                            id="eldest" onclick="limitBirth()" checked required />
                        <label for="eldest">17 歲或以上 17 years old or above</label>

                        <%}%>

            </p>

        </div>

        <style type="text/css">
            .card {
                border-radius: 0;
            }
        </style>

        <div class="card col-12 col-sm-6" style="background: transparent;">
            <br>
            <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">參加者(1)個人資料
                Applicant(1)'s Personal Details</h6>

            <div>
                <label>是否有中文姓名 Any Chinese name? </label>
                <% if (trampoline.havecname1 == "是 Yes") { %>
                        <input type="radio" name="Trampoline[havecname1]" value="是 Yes" id="Yes1"
                            onclick="havechinesename()" checked required />
                        <label class="form-check-label" for="havecname1">是 Yes</label>

                        &nbsp;<input type="radio" name="Trampoline[havecname1]" value="否 No" id="No1"
                            onclick="havechinesename()" required />
                        <label class="form-check-label" for="havecname1">否 No</label>
                        <% }else {%>
                        <input type="radio" name="Trampoline[havecname1]" value="是 Yes" id="Yes1"
                            onclick="havechinesename()" required />
                        <label class="form-check-label" for="havecname1">是 Yes</label>

                        &nbsp;<input type="radio" name="Trampoline[havecname1]" value="否 No" id="No1"
                            onclick="havechinesename()" checked required />
                        <label class="form-check-label" for="havecname1">否 No</label>
                        <% } %>
                </div>
                <div>
                    <label for="chiName1">中文姓名 Name in Chinese:</label>
                    <input id="chiName1" type="text" class="form-group" value=<%= trampoline.chiName1%>
                        name="Trampoline[chiName1]" id="chiName1" placeholder="e.g. 陳大文"
                        onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')" required>
                </div>
                <div>
                    <label>英文姓名 Name in English: </label>
                    <input type="text" class="form-group" value=<%= trampoline.engName1%> name="Trampoline[engName1]"
                        placeholder="e.g. Chan Tai Man" onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
                </div>
                <div>
                    <label>出生年份 Year of Birth:</label>
                    <select id="year1" class="form-group" value=<%= trampoline.birth1%> name="Trampoline[birth1]"
                        required></select>
                    <br>
                </div>
                <div>
                    <label>聯絡電話 Contact Number:</label>
                    <input type="tel" pattern=[0-9]{8} class="form-group" value=<%= trampoline.phone1%>
                        name="Trampoline[phone1]" required>
                </div>
                <div>
                    <label>電郵 Email Address:</label>

                    <input type="email" class="form-group" value=<%= trampoline.email1%> name="Trampoline[email1]"
                        style="width: 220pt;" required>

                </div>
                <div>
                    <label>通訊地址 Postal Address:</label>
                    <input type="text" class="form-group" value=<%= trampoline.address1%> name="Trampoline[address1]"
                        style="width:340pt" required>
                    <br>
                </div>
            </div>

            <div class="card col-12 col-sm-6" style="background: transparent;">
                <br>
                <h6 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">
                    參加者(2)個人資料
                    Applicant(2)'s Personal Details</h6>


                <div>
                    <label>是否有中文姓名 Any Chinese name? </label>
                    <% if (trampoline.havecname2 == "是 Yes") { %>
                    <input type="radio" name="Trampoline[havecname2]" value="是 Yes" id="Yes2"
                        onclick="havechinesename()" checked required />
                    <label class="form-check-label" for="havecname2">是 Yes</label>

                    &nbsp;<input type="radio" name="Trampoline[havecname2]" value="否 No" id="No2"
                        onclick="havechinesename()" required />
                    <label class="form-check-label" for="havecname2">否 No</label>
                    <% }else { %>
                    <input type="radio" name="Trampoline[havecname2]" value="是 Yes" id="Yes2"
                        onclick="havechinesename()" checked required />
                    <label class="form-check-label" for="havecname2">是 Yes</label>

                    &nbsp;<input type="radio" name="Trampoline[havecname2]" value="否 No" id="No2"
                        onclick="havechinesename()" checked required />
                    <label class="form-check-label" for="havecname2">否 No</label>
                    <% } %>
                </div>

                <div>
                    <label>中文姓名 Name in Chinese:</label>
                    <input type="text" class="form-group" value=<%= trampoline.chiName2%> name="Trampoline[chiName2]"
                        id="chiName2" placeholder="e.g. 陳大文" onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"
                        required>
                </div>
                <div>
                    <label>英文姓名 Name in English: </label>
                    <input type="text" class="form-group" value=<%= trampoline.engName2%> name="Trampoline[engName2]"
                        placeholder="e.g. Chan Tai Man" onkeyup="value=value.replace(/[^\a-\z\A-\Z\ ]/g,'')" required>
                </div>
                <div>
                    <label>出生年份 Year of Birth:</label>
                    <select id="year2" class="form-group" name="Trampoline[birth2]" required></select>
                    <br>
                </div>
                <div>
                    <label>聯絡電話 Contact Number:</label>
                    <input type="tel" pattern=[0-9]{8} value=<%= trampoline.phone2%> class="form-group"
                        name="Trampoline[phone2]" required>
                </div>
                <div>
                    <label>電郵 Email Address:</label>

                    <input type="email" class="form-group" value=<%= trampoline.email2%> name="Trampoline[email2]"
                        style="width: 220pt;" required>

                </div>
                <div>
                    <label>通訊地址 Postal Address:</label>
                    <input type="text" class="form-group" value=<%= trampoline.address2%> name="Trampoline[address2]"
                        style="width: 340pt;" required>
                    <br>
                </div>
            </div>

            <div class="col-12">
                <br>
                <h5 style="color: #83a70c; font-family: Verdana,Arial, Helvetica, sans-serif;  font-size:12pt;">所屬團體
                    Organization to which your body belongs</h5>
            </div>


            <div class="col-12">
                <label>團體名稱 Organization Name:</label>
                <input type="text" class="form-group" value=<%= trampoline.teamName%> name="Trampoline[teamName]"
                    style="width: 400pt;" required>
            </div>

            <div class="col-12 col-sm-6">
                <label>教練姓名 Coach Name:</label>
                <input type="text" class="form-group" value=<%= trampoline.coachName%> name="Trampoline[coachName]"
                    required>
            </div>

            <div class="col-12 col-sm-6">
                <label>聯絡電話 Contact Number:</label>
                <input type="tel" pattern=[0-9]{8} class="form-group" value=<%= trampoline.coachPhone%>
                    name="Trampoline[coachPhone]" required>
            </div>

            <div class="col-12">
                <label>註冊教練編號(如適用) Registered Coach No.(If applicable):</label>
                <% if(trampoline.coachNum == ""){%>
                <input type="text" class="form-group" name="Trampoline[coachNum]">
                <%} else {%>
                <b><input type="text" class="form-group" value=<%=trampoline.coachNum%> name="Trampoline[coachNum]"></b>
                <%}%>
    </div>


    <div class="col-12">
        <label>通訊地址 Postal Address:</label>
        <input type="text" class="form-group" value=<%= trampoline.coachAddress%> name="Trampoline[coachAddress]"
                style="width: 400pt;" required>
            </div>


            <div class="form-group col-12">
                <br>
                <h5 id="labelHead">聲明 Declaration</h5>
                <div class="form-group">
                    <label>聲明書 Declaration(img/pdf檔)</label>
                    <a download="<%= trampoline.idCode %>_Declaration_聲明書" href="<%= trampoline.Declaration %>"
                        target="_blank">下載
                        Download</a>
                    <br>
                    <label>更新 Update:</label>
                    <input type="file" accept="image/*,application/pdf" onchange="handleFile2(this.files)" />
                    <div id="preview2"></div>

                </div>

                <div>
                    <label>參加者(1)家長姓名 Applicant(1)'s Parent Name: </label>
                    <input type="text" class="form-group" value=<%= trampoline.parentName1 %>
                        name="Trampoline[parentName1]" required>
                    <input type="file" accept="image/*,application/pdf" onchange="handleFile(this.files,0)" required />
                    <div id="preview0"></div>
                </div>

                <div>
                    <br>
                    <label>參加者(2)家長姓名 Applicant(2)'s Parent Name: </label>
                    <input type="text" class="form-group" value=<%= trampoline.parentName2 %>
                        name="Trampoline[parentName2]" required>
                    <input type="file" accept="image/*,application/pdf" onchange="handleFile(this.files,1)" required />
                    <div id="preview1"></div>
                </div>
            </div>
            <br>

            <div class="form-group col-12">
                <h5 id="labelHead">狀況 Status</h5>
                <% if(trampoline.payStatus == "unpaid") {%>
                <div class="inputGroup">
                    <input class="statusInput" id="payStatus" name="TRGP[payStatus]" value="paid" type="checkbox"
                        onclick="changeToPaid()" />
                    <label for="payStatus" class="statusLabel" id="payLabel">未付款 Unpaid</label>
                </div>
                <%} else {%>
                <div class="inputGroup">
                    <input class="finishInput" id="payStatus" type="checkbox" disabled />
                    <label for="payStatus" class="finishLabel" id="payLabel">已付款 Paid</label>
                </div>
                <%}%>

    <% if(trampoline.formStatus == "ToBeCon") {%>
                <div class="inputGroup">
                    <input class="statusInput" id="formStatus" name="TRGP[formStatus]" value="accepted" type="checkbox"
                        onclick="changeToCon()" />
                    <label for="formStatus" class="statusLabel" id="confirmLabel">待確認 To be confirmed</label>
                </div>
                <% } else {%>
                <div class="inputGroup">
                    <input class="finishInput" id="formStatus" type="checkbox" disabled />
                    <label for="formStatus" class="finishLabel" id="confirmLabel">已確認 Accepted</label>
                </div>
                <%}%>
</div>

<div class="form-group col-12" style="text-align: right;">
    <button class="btn btn-success" onclick="submitForm('<%= trampoline.idCode%>')">完成 Submit</button>
            </div>


            <% var n = new Date(trampoline.updatedAt);
var month = n.getMonth() + 1;
var updateDate = n.getDate() + "/" + month + "/" + n.getFullYear() + " " + n.getHours() + ":" + n.getMinutes() + ":" + n.getSeconds(); %>
            <p class="col-12" style="font-size: smaller;">上次更新 Last upadated: <%= updateDate%></p>

    </div>
    </form>
</div>

</div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="styles/previewForm.css" />
<script type="text/javascript" src="js/previewForm.js"></script>

<script>
    $(document).ready(function () {
        $('#myform').previewForm();
    });
</script>

<script>
    birthYearOption(1950, new Date().getFullYear());

    function limitBirth() {
        var todayYear = new Date().getFullYear();
        var youngest = document.getElementById("youngest");
        var median = document.getElementById("median");
        var eldest = document.getElementById("eldest");

        if (youngest.checked == true) { //14 years old or below
            var minYear = todayYear - 14;
            birthYearOption(minYear, todayYear);
        } else if (median.checked == true) { //15 to 16 years old
            var minYear = todayYear - 16;
            var maxYear = todayYear - 15;
            birthYearOption(minYear, maxYear);
        } else if (eldest.checked == true) { //17 years old or above
            var maxYear = todayYear - 17;
            birthYearOption(1950, maxYear);
        }
    }

    function birthYearOption(start, end) {
        var options1 = "<option disabled selected>" + " " + "</option>";
        for (var year = start; year <= end; year++) {
            options1 += "<option>" + year + "</option>";
            if (year == "<%=trampoline.birth1%>") {
                options1 = "<option selected>" + "<%=trampoline.birth1%>" + "</option>";
            };
        };
        var options2 = "<option disabled selected>" + " " + "</option>";
        for (var year = start; year <= end; year++) {
            options2 += "<option>" + year + "</option>";
            if (year == "<%=trampoline.birth2%>") {
                options2 = "<option selected>" + "<%=trampoline.birth2%>" + "</option>";
            };
        }
        document.getElementById("year1").innerHTML = options1;
        document.getElementById("year2").innerHTML = options2;
    }

</script>

<script>
    //handle multi declaration upload (img/pdf) (id="preview+p") 
    function handleFile(files, p) {
        const file = files[0];
        if (!file.type.startsWith('image/') && !file.type == 'application/pdf') return;
        var preview = document.getElementById('preview' + p);
        var reader = new FileReader();

        if (file.type.startsWith('image/')) {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var img = document.createElement('img');
                img.src = e.target.result;
                preview.appendChild(img);
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'Trampoline[declaration' + p + ']';
                input.value = e.target.result;
                img.style.width = "150px";
                img.style.height = "150px";
                preview.appendChild(input);
            }
        } else if (file.type == 'application/pdf') {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'Trampoline[declaration' + p + ']';
                input.value = e.target.result;
                preview.appendChild(input);
            }
        }
        reader.readAsDataURL(file);
    }

    function handleFile2(files) {
        const file = files[0];
        if (!file.type.startsWith('image/') && !file.type == 'application/pdf') return;
        var preview = document.getElementById('preview2');
        var reader = new FileReader();

        if (file.type.startsWith('image/')) {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var img = document.createElement('img');
                img.src = e.target.result;
                preview.appendChild(img);
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'TRGP[Declaration]';
                input.value = e.target.result;
                img.style.width = "150px";
                img.style.height = "150px";
                preview.appendChild(input);
            }
        } else if (file.type == 'application/pdf') {
            reader.onload = function (e) {
                preview.innerHTML = "";
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'TRGP[Declaration]';
                input.value = e.target.result;
                preview.appendChild(input);
            }
        }
        reader.readAsDataURL(file);
    }

    //handle have chinese name option
    function havechinesename() {
        var yes1_check = document.getElementById("Yes1");
        var no1_check = document.getElementById("No1");
        var yes2_check = document.getElementById("Yes2");
        var no2_check = document.getElementById("No2");
        var chineseNameDis1 = document.getElementById("chiName1")
        var chineseNameDis2 = document.getElementById("chiName2")

        if (yes1_check.checked == true) {
            chineseNameDis1.checked = false;
            chineseNameDis1.disabled = false;

        } else if (no1_check.checked == true) {
            chineseNameDis1.checked = true; //disable chinese name
            chineseNameDis1.disabled = true;

        }

        if (yes2_check.checked == true) {
            chineseNameDis2.checked = false;
            chineseNameDis2.disabled = false;

        } else if (no2_check.checked == true) {
            chineseNameDis2.checked = true; //disable chinese name
            chineseNameDis2.disabled = true;

        }
    } 
</script>

<script>

    async function deleteApplication(id) {

        var r = confirm("Confirm Delete?");

        if (r) {

            var response = await fetch("/trampoline/" + id, {
                method: "DELETE",
                credentials: 'same-origin',
            });

            // var html = await response.text();
            // alert(html);

            if (response.ok) {
                var data = await response.json();
                alert(data.message);
                window.location = data.url;
            } else {
                alert(response.status + ": " + response.statusText);
            }

        } else {
            alert("Cancelled.");
        }

    };

</script>